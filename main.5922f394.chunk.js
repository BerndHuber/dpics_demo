(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,a,t){e.exports=t(21)},17:function(e,a,t){},19:function(e,a,t){e.exports=t.p+"static/media/logo.5d5d9eef.svg"},20:function(e,a,t){},21:function(e,a,t){"use strict";t.r(a);var l,n=t(0),i=t.n(n),s=t(4),c=t.n(s),r=(t(17),t(2)),o=t.n(r),m=t(5),d=t(6),u=t(7),p=t(9),v=t(8),b=t(1),h=t(10);t(19),t(20);var f=function(e){function a(e){var t;return Object(d.a)(this,a),(t=Object(p.a)(this,Object(v.a)(a).call(this,e))).classifyText=function(){return function(e){var a=Object(b.a)(t);console.log(document.getElementById("classify-new-text-input").value);var n=document.getElementById("classify-new-text-input").value;l.classify([n]).then(function(e){console.log(e);for(var t=[],l=[],i=0,s=1,c=0;c<8;c++)e[c].results[0].probabilities[0]<s&&(i=c,s=e[c].results[0].probabilities[0]),console.log(e[c].results[0].probabilities[0]),e[c].results[0].probabilities[0]>.9?t.push(1):t.push(0),l.push(e[c].results[0].probabilities[0]);(t=[0,0,0,0,0,0,0,0])[i]=1,function(e,a){var t="https://script.google.com/macros/s/AKfycbwK3EEp-8NU7wLEXLrZesp7XcjUYh7H6zdgQj7vBfDpDlwa13gl/exec?";t+="timest="+(new Date).getTime(),t+="&sentence="+e,t+="&up="+a[0],t+="&cmd="+a[1],t+="&neutral="+a[2],t+="&lp="+a[3],t+="&qu="+a[4],t+="&bd="+a[5],t+="&rf="+a[6],t+="&nt="+a[7],console.log("uploading data"),fetch(t).then(function(e){return e.text()}).then(function(e){console.log("response: "),console.log(e)}).catch(function(e){console.log(e)})}(n,l),console.log(t);var r=a.state.sentences;return r.unshift({text:n,pred:t}),a.setState({sentence:r}),!0})}},t.state={participantid:Date.now(),sentences:[{text:"What are you doing?",pred:[0,0,0,0,0,1,0,0]}]},t}return Object(h.a)(a,e),Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(o.a.mark(function e(){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:.7,a=["unlabelled_praise","command","neutral_talk","labelled_praise","question","behavior_description","reflection","negative_talk"],window.toxicity.load(.7,a).then(function(e){l=e});case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return i.a.createElement("div",{className:"main"},i.a.createElement("h1",null,"DPICS classifier demo"),i.a.createElement("div",{className:"description"},"This is a demo of the text classification model that classifies parent-child interaction according to the DPICS. The samples below illustrate the classification output of the model."),i.a.createElement("p",null,"Enter your sentence below and click 'Classify' to classify it according to the DPICS."),i.a.createElement("div",null,i.a.createElement("input",{id:"classify-new-text-input",placeholder:"i.e. 'Come play with me'"}),i.a.createElement("div",{id:"classify-new-text",onClick:this.classifyText()},"Classify")),i.a.createElement("div",{id:"table-wrapper"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"text"},"Parent Sentence"),i.a.createElement("div",{className:"label"},"Behavior Description"),i.a.createElement("div",{className:"label"},"Command"),i.a.createElement("div",{className:"label"},"Labelled Praise"),i.a.createElement("div",{className:"label"},"Negative Talk"),i.a.createElement("div",{className:"label"},"Neutral Talk"),i.a.createElement("div",{className:"label"},"Question"),i.a.createElement("div",{className:"label"},"Reflection"),i.a.createElement("div",{className:"label"},"Unlabelled Praise")),this.state.sentences.map(function(e,a){return i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"text"},e.text),1==e.pred[0]?i.a.createElement("div",{className:"label positive"},"Likely"):i.a.createElement("div",{className:"label"},"Unlikely"),1==e.pred[1]?i.a.createElement("div",{className:"label positive"},"Likely"):i.a.createElement("div",{className:"label"},"Unlikely"),1==e.pred[2]?i.a.createElement("div",{className:"label positive"},"Likely"):i.a.createElement("div",{className:"label"},"Unlikely"),1==e.pred[3]?i.a.createElement("div",{className:"label positive"},"Likely"):i.a.createElement("div",{className:"label"},"Unlikely"),1==e.pred[4]?i.a.createElement("div",{className:"label positive"},"Likely"):i.a.createElement("div",{className:"label"},"Unlikely"),1==e.pred[5]?i.a.createElement("div",{className:"label positive"},"Likely"):i.a.createElement("div",{className:"label"},"Unlikely"),1==e.pred[6]?i.a.createElement("div",{className:"label positive"},"Likely"):i.a.createElement("div",{className:"label"},"Unlikely"),1==e.pred[7]?i.a.createElement("div",{className:"label positive"},"Likely"):i.a.createElement("div",{className:"label"},"Unlikely"))})),i.a.createElement("h2",null,"The related paper is published at PervasiveHealth 2019:"),i.a.createElement("p",null,"We studied the classifier as a tool to help parents communicate. Make sure to check out our ",i.a.createElement("a",{href:"https://scholar.harvard.edu/files/bhb/files/specialtime_final_pervasivehealth19.pdf"},"paper")," for more details."),i.a.createElement("p",null,"Created by: ",i.a.createElement("a",{href:"https://scholar.harvard.edu/bhb"},"Bernd Huber")))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(f,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[11,1,2]]]);
//# sourceMappingURL=main.5922f394.chunk.js.map